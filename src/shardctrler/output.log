Test: Multi-group join/leave ...
000107  reflect.Value.call K2 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
000107  reflect.Value.call K2 Get 失败2
000208  reflect.Value.call K1 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
000209  reflect.Value.call K1 Get 失败2
000310  reflect.Value.call K0 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
000310  reflect.Value.call K0 Get 失败2
001414  reflect.Value.call K2 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
001415  reflect.Value.call K2 Get 失败2
001516  reflect.Value.call K1 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
001516  reflect.Value.call K1 Get 失败2
001618  reflect.Value.call K0 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
001619  reflect.Value.call K0 Get 失败2
002722  reflect.Value.call K2 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
002722  reflect.Value.call K2 Get 失败2
002824  reflect.Value.call K1 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
002825  reflect.Value.call K1 Get 失败2
002927  reflect.Value.call K0 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
002927  reflect.Value.call K0 Get 失败2
004030  reflect.Value.call K2 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
004030  reflect.Value.call K2 Get 失败2
004131  reflect.Value.call K1 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
004132  reflect.Value.call K1 Get 失败2
004233  reflect.Value.call K0 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
004234  reflect.Value.call K0 Get 失败2
005338  reflect.Value.call K2 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
005338  reflect.Value.call K2 Get 失败2
005440  reflect.Value.call K1 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
005441  reflect.Value.call K1 Get 失败2
005542  reflect.Value.call K0 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
005542  reflect.Value.call K0 Get 失败2
006647  reflect.Value.call K2 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
006648  reflect.Value.call K2 Get 失败2
006750  reflect.Value.call K1 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
006750  reflect.Value.call K1 Get 失败2
006852  reflect.Value.call K0 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
006852  reflect.Value.call K0 Get 失败2
007960  reflect.Value.call K2 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
007961  reflect.Value.call K2 Get 失败2
008065  reflect.Value.call K1 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
008066  reflect.Value.call K1 Get 失败2
008170  reflect.Value.call K0 isLeader: false term: 1 tterm: 1 等待Query index: -1 len: 0 args: &{Num:-1 UUID:1863261291478320511}
008171  reflect.Value.call K0 Get 失败2
009236  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1863261291478320511 Shard:0 Gid:0} CommandIndex:1 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009238  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:1863261291478320511 Shard:0 Gid:0} 增加hist: 1863261291478320511 长度: 1
009237  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1863261291478320511 Shard:0 Gid:0} CommandIndex:1 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009238  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:1863261291478320511 Shard:0 Gid:0} 增加hist: 1863261291478320511 长度: 1
009249  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1863261291478320511 Shard:0 Gid:0} CommandIndex:1 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009250  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:1863261291478320511 Shard:0 Gid:0} 增加hist: 1863261291478320511 长度: 1
009286  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 1 len: 1 args: &{Num:-1 UUID:1863261291478320511}
009287  reflect.Value.call K2 Query Server添加成功index: 1 len: 1 
009287  reflect.Value.call Query config: {0 [0 0 0 0 0 0 0 0 0 0] map[]}
009391  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 2 len: 1 args: &{Num:-1 UUID:3930962571431876716}
009441  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3930962571431876716 Shard:0 Gid:0} CommandIndex:2 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009442  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:3930962571431876716 Shard:0 Gid:0} 增加hist: 3930962571431876716 长度: 2
009492  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 2 len: 2 args: &{Num:-1 UUID:3930962571431876716}
009493  reflect.Value.call K2 Query Server添加成功index: 2 len: 2 
009493  reflect.Value.call Query config: {0 [0 0 0 0 0 0 0 0 0 0] map[]}
009510  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3930962571431876716 Shard:0 Gid:0} CommandIndex:2 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009510  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:3930962571431876716 Shard:0 Gid:0} 增加hist: 3930962571431876716 长度: 2
009510  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3930962571431876716 Shard:0 Gid:0} CommandIndex:2 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009510  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:3930962571431876716 Shard:0 Gid:0} 增加hist: 3930962571431876716 长度: 2
009589  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1:[x y z] 2:[a b c]] Gids:[] UUID:2740798827879220039 Shard:0 Gid:0} CommandIndex:3 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009590  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1:[x y z] 2:[a b c]] [] 2740798827879220039 0 0}
009590  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:0 2:10] Index: 2
009590  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:1 2:9] Index: 2
009590  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:1 2:9] Index: 1
009590  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:1 2:9] shards: [1 2 2 2 2 2 2 2 2 2]
009590  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:2 2:8] Index: 2
009590  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:2 2:8] Index: 1
009590  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:2 2:8] shards: [1 1 2 2 2 2 2 2 2 2]
009590  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:3 2:7] Index: 2
009590  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:3 2:7] Index: 1
009590  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:3 2:7] shards: [1 1 1 2 2 2 2 2 2 2]
009590  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:4 2:6] Index: 2
009591  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:4 2:6] Index: 1
009591  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:4 2:6] shards: [1 1 1 1 2 2 2 2 2 2]
009591  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:5 2:5] Index: 1
009591  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:5 2:5] Index: 1
009591  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1 min_gid: 1 counts: map[1:5 2:5] shards: [1 1 1 1 1 2 2 2 2 2]
009591  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1 min_gid: 1 opIndex: 2 counts: map[1:5 2:5] shards: [1 1 1 1 1 2 2 2 2 2]
009591  runtime.goexit K2 增加: {T:Join Servers:map[1:[x y z] 2:[a b c]] Gids:[] UUID:2740798827879220039 Shard:0 Gid:0} 增加hist: 2740798827879220039 长度: 3
009597  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 3 len: 3 args: &{Servers:map[1:[x y z] 2:[a b c]] UUID:2740798827879220039}
009598  reflect.Value.call K2 Join Server添加成功index: 3 len: 3 
009598  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]}]
009599  6.5840/shardctrler.TestMulti Client join : &{Servers:map[1:[x y z] 2:[a b c]] UUID:2740798827879220039} {WrongLeader:false Err: Config:{Num:1 Shards:[1 1 1 1 1 2 2 2 2 2] Groups:map[1:[x y z] 2:[a b c]]}}
009653  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1:[x y z] 2:[a b c]] Gids:[] UUID:2740798827879220039 Shard:0 Gid:0} CommandIndex:3 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009654  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1:[x y z] 2:[a b c]] [] 2740798827879220039 0 0}
009654  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:0 2:10] Index: 2
009654  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:1 2:9] Index: 2
009654  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:1 2:9] Index: 1
009654  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:1 2:9] shards: [1 2 2 2 2 2 2 2 2 2]
009654  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:2 2:8] Index: 2
009654  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:2 2:8] Index: 1
009654  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:2 2:8] shards: [1 1 2 2 2 2 2 2 2 2]
009654  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:3 2:7] Index: 2
009654  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:3 2:7] Index: 1
009655  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:3 2:7] shards: [1 1 1 2 2 2 2 2 2 2]
009655  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:4 2:6] Index: 2
009655  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:4 2:6] Index: 1
009655  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:4 2:6] shards: [1 1 1 1 2 2 2 2 2 2]
009655  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:5 2:5] Index: 1
009655  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:5 2:5] Index: 1
009655  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1 min_gid: 1 counts: map[1:5 2:5] shards: [1 1 1 1 1 2 2 2 2 2]
009655  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1 min_gid: 1 opIndex: 2 counts: map[1:5 2:5] shards: [1 1 1 1 1 2 2 2 2 2]
009655  runtime.goexit K1 增加: {T:Join Servers:map[1:[x y z] 2:[a b c]] Gids:[] UUID:2740798827879220039 Shard:0 Gid:0} 增加hist: 2740798827879220039 长度: 3
009665  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1:[x y z] 2:[a b c]] Gids:[] UUID:2740798827879220039 Shard:0 Gid:0} CommandIndex:3 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009665  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1:[x y z] 2:[a b c]] [] 2740798827879220039 0 0}
009665  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:0 2:10] Index: 2
009665  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:1 2:9] Index: 2
009665  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:1 2:9] Index: 1
009665  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:1 2:9] shards: [1 2 2 2 2 2 2 2 2 2]
009666  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:2 2:8] Index: 2
009666  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:2 2:8] Index: 1
009666  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:2 2:8] shards: [1 1 2 2 2 2 2 2 2 2]
009666  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:3 2:7] Index: 2
009666  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:3 2:7] Index: 1
009666  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:3 2:7] shards: [1 1 1 2 2 2 2 2 2 2]
009666  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:4 2:6] Index: 2
009666  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:4 2:6] Index: 1
009666  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:4 2:6] shards: [1 1 1 1 2 2 2 2 2 2]
009666  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:5 2:5] Index: 1
009666  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:5 2:5] Index: 1
009666  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1 min_gid: 1 counts: map[1:5 2:5] shards: [1 1 1 1 1 2 2 2 2 2]
009666  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1 min_gid: 1 opIndex: 2 counts: map[1:5 2:5] shards: [1 1 1 1 1 2 2 2 2 2]
009666  runtime.goexit K0 增加: {T:Join Servers:map[1:[x y z] 2:[a b c]] Gids:[] UUID:2740798827879220039 Shard:0 Gid:0} 增加hist: 2740798827879220039 长度: 3
009701  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 4 len: 3 args: &{Num:-1 UUID:3864877406648002212}
009743  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3864877406648002212 Shard:0 Gid:0} CommandIndex:4 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009744  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:3864877406648002212 Shard:0 Gid:0} 增加hist: 3864877406648002212 长度: 4
009801  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 4 len: 4 args: &{Num:-1 UUID:3864877406648002212}
009801  reflect.Value.call K2 Query Server添加成功index: 4 len: 4 
009802  reflect.Value.call Query config: {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]}
009812  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3864877406648002212 Shard:0 Gid:0} CommandIndex:4 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009812  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:3864877406648002212 Shard:0 Gid:0} 增加hist: 3864877406648002212 长度: 4
009824  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3864877406648002212 Shard:0 Gid:0} CommandIndex:4 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009824  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:3864877406648002212 Shard:0 Gid:0} 增加hist: 3864877406648002212 长度: 4
009892  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:4299275844675922002 Shard:0 Gid:0} CommandIndex:5 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009892  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:4299275844675922002 Shard:0 Gid:0} 增加hist: 4299275844675922002 长度: 5
009904  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 5 len: 5 args: &{Num:-1 UUID:4299275844675922002}
009904  reflect.Value.call K2 Query Server添加成功index: 5 len: 5 
009904  reflect.Value.call Query config: {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]}
009959  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:4299275844675922002 Shard:0 Gid:0} CommandIndex:5 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009959  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:4299275844675922002 Shard:0 Gid:0} 增加hist: 4299275844675922002 长度: 5
009970  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:4299275844675922002 Shard:0 Gid:0} CommandIndex:5 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
009970  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:4299275844675922002 Shard:0 Gid:0} 增加hist: 4299275844675922002 长度: 5
010007  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 6 len: 5 args: &{Servers:map[3:[j k l]] UUID:3479817582378859612}
010049  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[3:[j k l]] Gids:[] UUID:3479817582378859612 Shard:0 Gid:0} CommandIndex:6 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010049  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[3:[j k l]] [] 3479817582378859612 0 0}
010049  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:5 2:5 3:0] Index: 1
010049  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:4 2:5 3:1] Index: 2
010049  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:4 2:5 3:1] Index: 3
010049  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 3 counts: map[1:4 2:5 3:1] shards: [3 1 1 1 1 2 2 2 2 2]
010049  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:4 2:4 3:2] Index: 1
010049  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:4 2:4 3:2] Index: 3
010050  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1 min_gid: 3 counts: map[1:4 2:4 3:2] shards: [3 1 1 1 1 3 2 2 2 2]
010050  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:3 2:4 3:3] Index: 2
010050  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:3 2:4 3:3] Index: 1
010050  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:3 2:4 3:3] shards: [3 3 1 1 1 3 2 2 2 2]
010050  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 2 min_gid: 1 opIndex: 3 counts: map[1:3 2:4 3:3] shards: [3 3 1 1 1 3 2 2 2 2]
010050  runtime.goexit K2 增加: {T:Join Servers:map[3:[j k l]] Gids:[] UUID:3479817582378859612 Shard:0 Gid:0} 增加hist: 3479817582378859612 长度: 6
010107  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 6 len: 6 args: &{Servers:map[3:[j k l]] UUID:3479817582378859612}
010107  reflect.Value.call K2 Join Server添加成功index: 6 len: 6 
010107  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]}]
010108  6.5840/shardctrler.TestMulti Client join : &{Servers:map[3:[j k l]] UUID:3479817582378859612} {WrongLeader:false Err: Config:{Num:2 Shards:[3 3 1 1 1 3 2 2 2 2] Groups:map[1:[x y z] 2:[a b c] 3:[j k l]]}}
010116  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[3:[j k l]] Gids:[] UUID:3479817582378859612 Shard:0 Gid:0} CommandIndex:6 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010116  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[3:[j k l]] Gids:[] UUID:3479817582378859612 Shard:0 Gid:0} CommandIndex:6 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010117  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[3:[j k l]] [] 3479817582378859612 0 0}
010117  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[3:[j k l]] [] 3479817582378859612 0 0}
010117  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:5 2:5 3:0] Index: 1
010117  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:4 2:5 3:1] Index: 2
010117  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:5 2:5 3:0] Index: 1
010118  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:4 2:5 3:1] Index: 2
010118  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:4 2:5 3:1] Index: 3
010118  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 3 counts: map[1:4 2:5 3:1] shards: [3 1 1 1 1 2 2 2 2 2]
010118  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:4 2:4 3:2] Index: 1
010118  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:4 2:4 3:2] Index: 3
010118  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:4 2:5 3:1] Index: 3
010118  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 3 counts: map[1:4 2:5 3:1] shards: [3 1 1 1 1 2 2 2 2 2]
010118  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1 min_gid: 3 counts: map[1:4 2:4 3:2] shards: [3 1 1 1 1 3 2 2 2 2]
010119  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:3 2:4 3:3] Index: 2
010119  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:3 2:4 3:3] Index: 1
010119  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:3 2:4 3:3] shards: [3 3 1 1 1 3 2 2 2 2]
010119  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 2 min_gid: 1 opIndex: 3 counts: map[1:3 2:4 3:3] shards: [3 3 1 1 1 3 2 2 2 2]
010119  runtime.goexit K0 增加: {T:Join Servers:map[3:[j k l]] Gids:[] UUID:3479817582378859612 Shard:0 Gid:0} 增加hist: 3479817582378859612 长度: 6
010119  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:4 2:4 3:2] Index: 1
010119  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:4 2:4 3:2] Index: 3
010119  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1 min_gid: 3 counts: map[1:4 2:4 3:2] shards: [3 1 1 1 1 3 2 2 2 2]
010119  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1:3 2:4 3:3] Index: 2
010120  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1:3 2:4 3:3] Index: 1
010120  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2 min_gid: 1 counts: map[1:3 2:4 3:3] shards: [3 3 1 1 1 3 2 2 2 2]
010120  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 2 min_gid: 1 opIndex: 3 counts: map[1:3 2:4 3:3] shards: [3 3 1 1 1 3 2 2 2 2]
010120  runtime.goexit K1 增加: {T:Join Servers:map[3:[j k l]] Gids:[] UUID:3479817582378859612 Shard:0 Gid:0} 增加hist: 3479817582378859612 长度: 6
010194  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:4052519011347267856 Shard:0 Gid:0} CommandIndex:7 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010195  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:4052519011347267856 Shard:0 Gid:0} 增加hist: 4052519011347267856 长度: 7
010211  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 7 len: 7 args: &{Num:-1 UUID:4052519011347267856}
010211  reflect.Value.call K2 Query Server添加成功index: 7 len: 7 
010212  reflect.Value.call Query config: {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]}
010238  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:4052519011347267856 Shard:0 Gid:0} CommandIndex:7 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010238  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:4052519011347267856 Shard:0 Gid:0} 增加hist: 4052519011347267856 长度: 7
010249  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:4052519011347267856 Shard:0 Gid:0} CommandIndex:7 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010250  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:4052519011347267856 Shard:0 Gid:0} 增加hist: 4052519011347267856 长度: 7
010315  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 8 len: 7 args: &{Num:-1 UUID:695916486824176956}
010348  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:695916486824176956 Shard:0 Gid:0} CommandIndex:8 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010348  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:695916486824176956 Shard:0 Gid:0} 增加hist: 695916486824176956 长度: 8
010415  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 8 len: 8 args: &{Num:-1 UUID:695916486824176956}
010416  reflect.Value.call K2 Query Server添加成功index: 8 len: 8 
010416  reflect.Value.call Query config: {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]}
010426  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:695916486824176956 Shard:0 Gid:0} CommandIndex:8 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010426  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:695916486824176956 Shard:0 Gid:0} 增加hist: 695916486824176956 长度: 8
010437  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:695916486824176956 Shard:0 Gid:0} CommandIndex:8 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010437  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:695916486824176956 Shard:0 Gid:0} 增加hist: 695916486824176956 长度: 8
010493  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:851737842024978440 Shard:0 Gid:0} CommandIndex:9 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010493  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:851737842024978440 Shard:0 Gid:0} 增加hist: 851737842024978440 长度: 9
010519  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 9 len: 9 args: &{Num:-1 UUID:851737842024978440}
010519  reflect.Value.call K2 Query Server添加成功index: 9 len: 9 
010519  reflect.Value.call Query config: {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]}
010593  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:851737842024978440 Shard:0 Gid:0} CommandIndex:9 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010594  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:851737842024978440 Shard:0 Gid:0} 增加hist: 851737842024978440 长度: 9
010594  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:851737842024978440 Shard:0 Gid:0} CommandIndex:9 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010594  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:851737842024978440 Shard:0 Gid:0} 增加hist: 851737842024978440 长度: 9
010623  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 10 len: 9 args: &{GIDs:[1 3] UUID:640919059326008000}
010657  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[1 3] UUID:640919059326008000 Shard:0 Gid:0} CommandIndex:10 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010658  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[2:[a b c]], shard: [0 0 0 0 0 0 2 2 2 2]
010658  6.5840/shardctrler.rebalance GetGIDWithMaxi map[2:10] Index: 2
010658  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 2 min_gid: 2 opIndex: 2 counts: map[2:10] shards: [2 2 2 2 2 2 2 2 2 2]
010658  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[1 3] UUID:640919059326008000 Shard:0 Gid:0} 增加hist: 640919059326008000 长度: 10
010724  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 10 len: 10 args: &{GIDs:[1 3] UUID:640919059326008000}
010725  reflect.Value.call K2 Leave Server添加成功index: 10 len: 10 
010725  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]}]
010736  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[1 3] UUID:640919059326008000 Shard:0 Gid:0} CommandIndex:10 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010737  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[2:[a b c]], shard: [0 0 0 0 0 0 2 2 2 2]
010737  6.5840/shardctrler.rebalance GetGIDWithMaxi map[2:10] Index: 2
010738  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 2 min_gid: 2 opIndex: 2 counts: map[2:10] shards: [2 2 2 2 2 2 2 2 2 2]
010738  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[1 3] UUID:640919059326008000 Shard:0 Gid:0} 增加hist: 640919059326008000 长度: 10
010748  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[1 3] UUID:640919059326008000 Shard:0 Gid:0} CommandIndex:10 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010748  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[2:[a b c]], shard: [0 0 0 0 0 0 2 2 2 2]
010748  6.5840/shardctrler.rebalance GetGIDWithMaxi map[2:10] Index: 2
010748  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 2 min_gid: 2 opIndex: 2 counts: map[2:10] shards: [2 2 2 2 2 2 2 2 2 2]
010748  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[1 3] UUID:640919059326008000 Shard:0 Gid:0} 增加hist: 640919059326008000 长度: 10
010793  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1018703747694321390 Shard:0 Gid:0} CommandIndex:11 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010793  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:1018703747694321390 Shard:0 Gid:0} 增加hist: 1018703747694321390 长度: 11
010828  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 11 len: 11 args: &{Num:-1 UUID:1018703747694321390}
010828  reflect.Value.call K2 Query Server添加成功index: 11 len: 11 
010828  reflect.Value.call Query config: {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]}
010893  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1018703747694321390 Shard:0 Gid:0} CommandIndex:11 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010894  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1018703747694321390 Shard:0 Gid:0} CommandIndex:11 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010894  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:1018703747694321390 Shard:0 Gid:0} 增加hist: 1018703747694321390 长度: 11
010894  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:1018703747694321390 Shard:0 Gid:0} 增加hist: 1018703747694321390 长度: 11
010931  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 12 len: 11 args: &{Num:-1 UUID:3145166537513538418}
010959  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3145166537513538418 Shard:0 Gid:0} CommandIndex:12 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
010960  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:3145166537513538418 Shard:0 Gid:0} 增加hist: 3145166537513538418 长度: 12
011032  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 12 len: 12 args: &{Num:-1 UUID:3145166537513538418}
011032  reflect.Value.call K2 Query Server添加成功index: 12 len: 12 
011032  reflect.Value.call Query config: {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]}
011038  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3145166537513538418 Shard:0 Gid:0} CommandIndex:12 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011038  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:3145166537513538418 Shard:0 Gid:0} 增加hist: 3145166537513538418 长度: 12
011049  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3145166537513538418 Shard:0 Gid:0} CommandIndex:12 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011050  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:3145166537513538418 Shard:0 Gid:0} 增加hist: 3145166537513538418 长度: 12
011094  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:570255839120616756 Shard:0 Gid:0} CommandIndex:13 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011095  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:570255839120616756 Shard:0 Gid:0} 增加hist: 570255839120616756 长度: 13
011136  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 13 len: 13 args: &{Num:-1 UUID:570255839120616756}
011136  reflect.Value.call K2 Query Server添加成功index: 13 len: 13 
011136  reflect.Value.call Query config: {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]}
011206  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:570255839120616756 Shard:0 Gid:0} CommandIndex:13 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011207  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:570255839120616756 Shard:0 Gid:0} 增加hist: 570255839120616756 长度: 13
011206  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:570255839120616756 Shard:0 Gid:0} CommandIndex:13 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011207  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:570255839120616756 Shard:0 Gid:0} 增加hist: 570255839120616756 长度: 13
011238  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 14 len: 13 args: &{GIDs:[2] UUID:228739213427007921}
011249  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2] UUID:228739213427007921 Shard:0 Gid:0} CommandIndex:14 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011249  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2] UUID:228739213427007921 Shard:0 Gid:0} CommandIndex:14 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011249  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[], shard: [0 0 0 0 0 0 0 0 0 0]
011250  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalance时 gid: 0 在shards中存在，但是groups中不存在
011249  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[], shard: [0 0 0 0 0 0 0 0 0 0]
011250  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalance时 gid: 0 在shards中存在，但是groups中不存在
011250  6.5840/shardctrler.rebalance GetGIDWithMaxi map[0:10] Index: 0
011250  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 0 min_gid: 0 opIndex: 0 counts: map[0:10] shards: [0 0 0 0 0 0 0 0 0 0]
011249  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2] UUID:228739213427007921 Shard:0 Gid:0} CommandIndex:14 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011250  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2] UUID:228739213427007921 Shard:0 Gid:0} 增加hist: 228739213427007921 长度: 14
011250  6.5840/shardctrler.rebalance GetGIDWithMaxi map[0:10] Index: 0
011250  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 0 min_gid: 0 opIndex: 0 counts: map[0:10] shards: [0 0 0 0 0 0 0 0 0 0]
011251  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2] UUID:228739213427007921 Shard:0 Gid:0} 增加hist: 228739213427007921 长度: 14
011250  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[], shard: [0 0 0 0 0 0 0 0 0 0]
011251  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalance时 gid: 0 在shards中存在，但是groups中不存在
011251  6.5840/shardctrler.rebalance GetGIDWithMaxi map[0:10] Index: 0
011251  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 0 min_gid: 0 opIndex: 0 counts: map[0:10] shards: [0 0 0 0 0 0 0 0 0 0]
011251  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2] UUID:228739213427007921 Shard:0 Gid:0} 增加hist: 228739213427007921 长度: 14
011338  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 14 len: 14 args: &{GIDs:[2] UUID:228739213427007921}
011339  reflect.Value.call K2 Leave Server添加成功index: 14 len: 14 
011339  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]}]
  ... Passed
Test: Concurrent multi leave/join ...
011405  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] Gids:[] UUID:1239890101698906246 Shard:0 Gid:0} CommandIndex:15 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011406  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] [] 1239890101698906246 0 0}
011406  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:0 2009:0 3009:10] Index: 3009
011406  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:1 2009:0 3009:9] Index: 3009
011406  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:1 2009:0 3009:9] Index: 2009
011406  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 2009 counts: map[1009:1 2009:0 3009:9] shards: [1009 3009 3009 3009 3009 3009 3009 3009 3009 3009]
011406  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:1 2009:1 3009:8] Index: 3009
011407  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:1 2009:1 3009:8] Index: 1009
011407  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1009 counts: map[1009:1 2009:1 3009:8] shards: [1009 2009 3009 3009 3009 3009 3009 3009 3009 3009]
011407  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:2 2009:1 3009:7] Index: 3009
011407  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:2 2009:1 3009:7] Index: 2009
011407  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 2009 counts: map[1009:2 2009:1 3009:7] shards: [1009 2009 1009 3009 3009 3009 3009 3009 3009 3009]
011407  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:2 2009:2 3009:6] Index: 3009
011407  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:2 2009:2 3009:6] Index: 1009
011407  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1009 counts: map[1009:2 2009:2 3009:6] shards: [1009 2009 1009 2009 3009 3009 3009 3009 3009 3009]
011407  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:3 2009:2 3009:5] Index: 3009
011407  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:3 2009:2 3009:5] Index: 2009
011408  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 2009 counts: map[1009:3 2009:2 3009:5] shards: [1009 2009 1009 2009 1009 3009 3009 3009 3009 3009]
011408  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:3 2009:3 3009:4] Index: 3009
011408  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:3 2009:3 3009:4] Index: 1009
011408  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1009 counts: map[1009:3 2009:3 3009:4] shards: [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009]
011408  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 3009 min_gid: 1009 opIndex: 3009 counts: map[1009:3 2009:3 3009:4] shards: [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009]
011408  runtime.goexit K2 增加: {T:Join Servers:map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] Gids:[] UUID:1239890101698906246 Shard:0 Gid:0} 增加hist: 1239890101698906246 长度: 15
011445  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Join index: -1 len: 14 args: &{Servers:map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] UUID:403208436507290861}
011446  reflect.Value.call K0 Join 失败2
011445  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 16 len: 15 args: &{Servers:map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] UUID:2982225972160280567}
011446  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Join index: -1 len: 14 args: &{Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] UUID:733863721615508089}
011446  reflect.Value.call K1 Join 失败2
011446  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Join index: -1 len: 14 args: &{Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] UUID:1786665967776532605}
011447  reflect.Value.call K0 Join 失败2
011446  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 15 len: 15 args: &{Servers:map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] UUID:1239890101698906246}
011447  reflect.Value.call K2 Join Server添加成功index: 15 len: 15 
011447  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Join index: -1 len: 14 args: &{Servers:map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] UUID:2123895015098462591}
011448  reflect.Value.call K0 Join 失败2
011447  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]}]
011448  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Join index: -1 len: 14 args: &{Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] UUID:4134155907568185703}
011448  reflect.Value.call K0 Join 失败2
011449  6.5840/shardctrler.TestMulti.func1 Client join : &{Servers:map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] UUID:1239890101698906246} {WrongLeader:false Err: Config:{Num:5 Shards:[1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] Groups:map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]}}
011449  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 17 len: 15 args: &{Servers:map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] UUID:4477975296002685041}
011449  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 18 len: 15 args: &{Servers:map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] UUID:3430538636323665579}
011450  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 19 len: 15 args: &{Servers:map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] UUID:3423400112393165472}
011517  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] Gids:[] UUID:1239890101698906246 Shard:0 Gid:0} CommandIndex:15 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011517  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] [] 1239890101698906246 0 0}
011518  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:0 2009:0 3009:10] Index: 3009
011518  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:1 2009:0 3009:9] Index: 3009
011517  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] Gids:[] UUID:1239890101698906246 Shard:0 Gid:0} CommandIndex:15 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011519  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] [] 1239890101698906246 0 0}
011518  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:1 2009:0 3009:9] Index: 2009
011520  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 2009 counts: map[1009:1 2009:0 3009:9] shards: [1009 3009 3009 3009 3009 3009 3009 3009 3009 3009]
011520  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:0 2009:10 3009:0] Index: 2009
011520  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:1 2009:9 3009:0] Index: 2009
011520  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:1 2009:1 3009:8] Index: 3009
011520  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:1 2009:1 3009:8] Index: 1009
011521  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1009 counts: map[1009:1 2009:1 3009:8] shards: [1009 2009 3009 3009 3009 3009 3009 3009 3009 3009]
011521  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:2 2009:1 3009:7] Index: 3009
011520  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:1 2009:9 3009:0] Index: 3009
011521  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 3009 counts: map[1009:1 2009:9 3009:0] shards: [1009 2009 2009 2009 2009 2009 2009 2009 2009 2009]
011522  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:1 2009:8 3009:1] Index: 2009
011522  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:1 2009:8 3009:1] Index: 1009
011522  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 1009 counts: map[1009:1 2009:8 3009:1] shards: [1009 3009 2009 2009 2009 2009 2009 2009 2009 2009]
011522  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:2 2009:7 3009:1] Index: 2009
011522  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:2 2009:7 3009:1] Index: 3009
011522  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 3009 counts: map[1009:2 2009:7 3009:1] shards: [1009 3009 1009 2009 2009 2009 2009 2009 2009 2009]
011522  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:2 2009:6 3009:2] Index: 2009
011522  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:2 2009:6 3009:2] Index: 1009
011521  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:2 2009:1 3009:7] Index: 2009
011523  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 2009 counts: map[1009:2 2009:1 3009:7] shards: [1009 2009 1009 3009 3009 3009 3009 3009 3009 3009]
011522  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 1009 counts: map[1009:2 2009:6 3009:2] shards: [1009 3009 1009 3009 2009 2009 2009 2009 2009 2009]
011523  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:3 2009:5 3009:2] Index: 2009
011523  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:3 2009:5 3009:2] Index: 3009
011523  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 3009 counts: map[1009:3 2009:5 3009:2] shards: [1009 3009 1009 3009 1009 2009 2009 2009 2009 2009]
011523  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:3 2009:4 3009:3] Index: 2009
011523  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:2 2009:2 3009:6] Index: 3009
011524  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:2 2009:2 3009:6] Index: 1009
011523  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:3 2009:4 3009:3] Index: 1009
011524  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 1009 counts: map[1009:3 2009:4 3009:3] shards: [1009 3009 1009 3009 1009 3009 2009 2009 2009 2009]
011524  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1009 counts: map[1009:2 2009:2 3009:6] shards: [1009 2009 1009 2009 3009 3009 3009 3009 3009 3009]
011524  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 2009 min_gid: 1009 opIndex: 2009 counts: map[1009:3 2009:4 3009:3] shards: [1009 3009 1009 3009 1009 3009 2009 2009 2009 2009]
011524  runtime.goexit K1 增加: {T:Join Servers:map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] Gids:[] UUID:1239890101698906246 Shard:0 Gid:0} 增加hist: 1239890101698906246 长度: 15
011524  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:3 2009:2 3009:5] Index: 3009
011524  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:3 2009:2 3009:5] Index: 2009
011525  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 2009 counts: map[1009:3 2009:2 3009:5] shards: [1009 2009 1009 2009 1009 3009 3009 3009 3009 3009]
011525  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1009:3 2009:3 3009:4] Index: 3009
011525  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1009:3 2009:3 3009:4] Index: 1009
011525  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1009 counts: map[1009:3 2009:3 3009:4] shards: [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009]
011525  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 3009 min_gid: 1009 opIndex: 3009 counts: map[1009:3 2009:3 3009:4] shards: [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009]
011525  runtime.goexit K0 增加: {T:Join Servers:map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]] Gids:[] UUID:1239890101698906246 Shard:0 Gid:0} 增加hist: 1239890101698906246 长度: 15
011546  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 16 len: 15 args: &{Servers:map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] UUID:2982225972160280567}
011549  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Join index: -1 len: 15 args: &{Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] UUID:733863721615508089}
011549  reflect.Value.call K0 Join 失败2
011549  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Join index: -1 len: 15 args: &{Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] UUID:1786665967776532605}
011549  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 17 len: 15 args: &{Servers:map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] UUID:4477975296002685041}
011549  reflect.Value.call K1 Join 失败2
011549  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 18 len: 15 args: &{Servers:map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] UUID:3430538636323665579}
011550  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Join index: -1 len: 15 args: &{Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] UUID:4134155907568185703}
011550  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 19 len: 15 args: &{Servers:map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] UUID:3423400112393165472}
011550  reflect.Value.call K1 Join 失败2
011550  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 20 len: 15 args: &{Servers:map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] UUID:403208436507290861}
011551  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 21 len: 15 args: &{Servers:map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] UUID:2123895015098462591}
011552  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 22 len: 15 args: &{GIDs:[2009 3009] UUID:479799877031306832}
011559  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] Gids:[] UUID:2982225972160280567 Shard:0 Gid:0} CommandIndex:16 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011559  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] [] 2982225972160280567 0 0}
011559  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:0 1009:3 2004:0 2009:3 3004:0 3009:4] Index: 3009
011560  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:1 1009:3 2004:0 2009:3 3004:0 3009:3] Index: 1009
011560  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:1 1009:3 2004:0 2009:3 3004:0 3009:3] Index: 2004
011560  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1009 min_gid: 2004 counts: map[1004:1 1009:3 2004:0 2009:3 3004:0 3009:3] shards: [1009 2009 1009 2009 1009 2009 1004 3009 3009 3009]
011560  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:1 1009:2 2004:1 2009:3 3004:0 3009:3] Index: 2009
011560  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:1 1009:2 2004:1 2009:3 3004:0 3009:3] Index: 3004
011560  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 3004 counts: map[1004:1 1009:2 2004:1 2009:3 3004:0 3009:3] shards: [2004 2009 1009 2009 1009 2009 1004 3009 3009 3009]
011560  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:1 1009:2 2004:1 2009:2 3004:1 3009:3] Index: 3009
011560  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:1 1009:2 2004:1 2009:2 3004:1 3009:3] Index: 1004
011561  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1004 counts: map[1004:1 1009:2 2004:1 2009:2 3004:1 3009:3] shards: [2004 3004 1009 2009 1009 2009 1004 3009 3009 3009]
011561  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] Index: 1004
011561  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] Index: 2004
011561  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1004 min_gid: 2004 counts: map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] shards: [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009]
011561  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1004 min_gid: 2004 opIndex: 2004 counts: map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] shards: [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009]
011561  runtime.goexit K2 增加: {T:Join Servers:map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] Gids:[] UUID:2982225972160280567 Shard:0 Gid:0} 增加hist: 2982225972160280567 长度: 16
011561  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] Gids:[] UUID:4477975296002685041 Shard:0 Gid:0} CommandIndex:17 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011562  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] [] 4477975296002685041 0 0}
011562  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:0 1004:2 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 1004
011562  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1004:1 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 1009
011562  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1004:1 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 2000
011562  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1009 min_gid: 2000 counts: map[1000:1 1004:1 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] shards: [2004 3004 1009 2009 1009 2009 1000 1004 3009 3009]
011562  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 2009
011562  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 3000
011563  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 3000 counts: map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:2 3000:0 3004:1 3009:2] shards: [2004 3004 2000 2009 1009 2009 1000 1004 3009 3009]
011563  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] Index: 3009
011563  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] Index: 1000
011563  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1000 counts: map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] shards: [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009]
011563  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 3009 min_gid: 1000 opIndex: 3000 counts: map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] shards: [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009]
011563  runtime.goexit K2 增加: {T:Join Servers:map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] Gids:[] UUID:4477975296002685041 Shard:0 Gid:0} 增加hist: 4477975296002685041 长度: 17
011563  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] Gids:[] UUID:3430538636323665579 Shard:0 Gid:0} CommandIndex:18 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011564  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] [] 3430538636323665579 0 0}
011564  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:0 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:2] Index: 3009
011564  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] Index: 1000
011564  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] Index: 2003
011564  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 2003 counts: map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] shards: [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009]
011564  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2003 opIndex: 1003 counts: map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] shards: [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009]
011565  runtime.goexit K2 增加: {T:Join Servers:map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] Gids:[] UUID:3430538636323665579 Shard:0 Gid:0} 增加hist: 3430538636323665579 长度: 18
011565  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] Gids:[] UUID:3423400112393165472 Shard:0 Gid:0} CommandIndex:19 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011565  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] [] 3423400112393165472 0 0}
011565  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1008:0 1009:1 2000:1 2003:0 2004:1 2008:0 2009:1 3000:1 3003:0 3004:1 3008:0 3009:1] Index: 1000
011565  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1008 opIndex: 3008 counts: map[1000:1 1003:1 1004:1 1008:0 1009:1 2000:1 2003:0 2004:1 2008:0 2009:1 3000:1 3003:0 3004:1 3008:0 3009:1] shards: [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009]
011566  runtime.goexit K2 增加: {T:Join Servers:map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] Gids:[] UUID:3423400112393165472 Shard:0 Gid:0} 增加hist: 3423400112393165472 长度: 19
011566  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] Gids:[] UUID:403208436507290861 Shard:0 Gid:0} CommandIndex:20 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011566  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] [] 403208436507290861 0 0}
011566  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3006:0 3008:0 3009:1] Index: 1000
011566  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1006 opIndex: 2006 counts: map[1000:1 1003:1 1004:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3006:0 3008:0 3009:1] shards: [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009]
011566  runtime.goexit K2 增加: {T:Join Servers:map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] Gids:[] UUID:403208436507290861 Shard:0 Gid:0} 增加hist: 403208436507290861 长度: 20
011567  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] Gids:[] UUID:2123895015098462591 Shard:0 Gid:0} CommandIndex:21 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011567  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] [] 2123895015098462591 0 0}
011567  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:0 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0 3009:1] Index: 1000
011567  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1005 opIndex: 2005 counts: map[1000:1 1003:1 1004:1 1005:0 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0 3009:1] shards: [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009]
011568  runtime.goexit K2 增加: {T:Join Servers:map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] Gids:[] UUID:2123895015098462591 Shard:0 Gid:0} 增加hist: 2123895015098462591 长度: 21
011568  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2009 3009] UUID:479799877031306832 Shard:0 Gid:0} CommandIndex:22 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011568  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]], shard: [2004 3004 2000 3000 1009 0 1000 1004 1003 0]
011568  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:0 1006:0 1008:0 1009:1 2000:1 2003:0 2004:3 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 2004
011569  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:2 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 2004
011569  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1003:1 1004:1 1005:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:2 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1006
011569  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2004 min_gid: 1006 counts: map[1000:1 1003:1 1004:1 1005:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:2 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 3004 2000 3000 1009 2004 1000 1004 1003 2004]
011569  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1000
011569  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1008
011570  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 1008 counts: map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004]
011570  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1008 opIndex: 2004 counts: map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004]
011570  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2009 3009] UUID:479799877031306832 Shard:0 Gid:0} 增加hist: 479799877031306832 长度: 22
011647  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 16 len: 22 args: &{Servers:map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] UUID:2982225972160280567}
011648  reflect.Value.call K2 Join Server添加成功index: 16 len: 22 
011648  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}]
011650  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 18 len: 22 args: &{Servers:map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] UUID:3430538636323665579}
011650  reflect.Value.call K2 Join Server添加成功index: 18 len: 22 
011651  6.5840/shardctrler.TestMulti.func1 Client join : &{Servers:map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] UUID:2982225972160280567} {WrongLeader:false Err: Config:{Num:12 Shards:[1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] Groups:map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}}
011650  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}]
011652  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 22 len: 22 args: &{GIDs:[2009 3009] UUID:479799877031306832}
011653  reflect.Value.call K2 Leave Server添加成功index: 22 len: 22 
011653  6.5840/shardctrler.TestMulti.func1 Client join : &{Servers:map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] UUID:3430538636323665579} {WrongLeader:false Err: Config:{Num:12 Shards:[1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] Groups:map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}}
011653  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}]
011654  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 17 len: 22 args: &{Servers:map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] UUID:4477975296002685041}
011654  reflect.Value.call K2 Join Server添加成功index: 17 len: 22 
011654  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}]
011656  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 19 len: 22 args: &{Servers:map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] UUID:3423400112393165472}
011657  reflect.Value.call K2 Join Server添加成功index: 19 len: 22 
011657  6.5840/shardctrler.TestMulti.func1 Client join : &{Servers:map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] UUID:4477975296002685041} {WrongLeader:false Err: Config:{Num:12 Shards:[1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] Groups:map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}}
011657  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}]
011659  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 20 len: 22 args: &{Servers:map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] UUID:403208436507290861}
011659  reflect.Value.call K2 Join Server添加成功index: 20 len: 22 
011659  6.5840/shardctrler.TestMulti.func1 Client join : &{Servers:map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] UUID:3423400112393165472} {WrongLeader:false Err: Config:{Num:12 Shards:[1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] Groups:map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}}
011659  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}]
011660  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 23 len: 22 args: &{Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] UUID:733863721615508089}
011660  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 21 len: 22 args: &{Servers:map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] UUID:2123895015098462591}
011661  reflect.Value.call K2 Join Server添加成功index: 21 len: 22 
011661  6.5840/shardctrler.TestMulti.func1 Client join : &{Servers:map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] UUID:403208436507290861} {WrongLeader:false Err: Config:{Num:12 Shards:[1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] Groups:map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}}
011661  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}]
011663  6.5840/shardctrler.TestMulti.func1 Client join : &{Servers:map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] UUID:2123895015098462591} {WrongLeader:false Err: Config:{Num:12 Shards:[1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] Groups:map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]}}
011663  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 24 len: 22 args: &{Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] UUID:1786665967776532605}
011663  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 25 len: 22 args: &{Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] UUID:4134155907568185703}
011667  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] Gids:[] UUID:2982225972160280567 Shard:0 Gid:0} CommandIndex:16 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011668  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] [] 2982225972160280567 0 0}
011668  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:0 1009:3 2004:0 2009:3 3004:0 3009:4] Index: 3009
011668  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:1 1009:3 2004:0 2009:3 3004:0 3009:3] Index: 1009
011668  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:1 1009:3 2004:0 2009:3 3004:0 3009:3] Index: 2004
011668  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] Gids:[] UUID:2982225972160280567 Shard:0 Gid:0} CommandIndex:16 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011669  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] [] 2982225972160280567 0 0}
011669  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:0 1009:3 2004:0 2009:4 3004:0 3009:3] Index: 2009
011669  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:1 1009:3 2004:0 2009:3 3004:0 3009:3] Index: 1009
011668  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1009 min_gid: 2004 counts: map[1004:1 1009:3 2004:0 2009:3 3004:0 3009:3] shards: [1009 2009 1009 2009 1009 2009 1004 3009 3009 3009]
011669  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:1 1009:2 2004:1 2009:3 3004:0 3009:3] Index: 2009
011670  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:1 1009:2 2004:1 2009:3 3004:0 3009:3] Index: 3004
011669  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:1 1009:3 2004:0 2009:3 3004:0 3009:3] Index: 2004
011670  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1009 min_gid: 2004 counts: map[1004:1 1009:3 2004:0 2009:3 3004:0 3009:3] shards: [1009 3009 1009 3009 1009 3009 1004 2009 2009 2009]
011670  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:1 1009:2 2004:1 2009:3 3004:0 3009:3] Index: 2009
011670  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:1 1009:2 2004:1 2009:3 3004:0 3009:3] Index: 3004
011670  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 3004 counts: map[1004:1 1009:2 2004:1 2009:3 3004:0 3009:3] shards: [2004 3009 1009 3009 1009 3009 1004 2009 2009 2009]
011671  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:1 1009:2 2004:1 2009:2 3004:1 3009:3] Index: 3009
011670  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 3004 counts: map[1004:1 1009:2 2004:1 2009:3 3004:0 3009:3] shards: [2004 2009 1009 2009 1009 2009 1004 3009 3009 3009]
011671  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:1 1009:2 2004:1 2009:2 3004:1 3009:3] Index: 3009
011671  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:1 1009:2 2004:1 2009:2 3004:1 3009:3] Index: 1004
011671  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:1 1009:2 2004:1 2009:2 3004:1 3009:3] Index: 1004
011671  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1004 counts: map[1004:1 1009:2 2004:1 2009:2 3004:1 3009:3] shards: [2004 3009 1009 3009 1009 3009 1004 3004 2009 2009]
011671  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1004 counts: map[1004:1 1009:2 2004:1 2009:2 3004:1 3009:3] shards: [2004 3004 1009 2009 1009 2009 1004 3009 3009 3009]
011671  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] Index: 1004
011672  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] Index: 2004
011672  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1004 min_gid: 2004 counts: map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] shards: [2004 1004 1009 3009 1009 3009 1004 3004 2009 2009]
011672  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1004 min_gid: 2004 opIndex: 2004 counts: map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] shards: [2004 1004 1009 3009 1009 3009 1004 3004 2009 2009]
011672  runtime.goexit K1 增加: {T:Join Servers:map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] Gids:[] UUID:2982225972160280567 Shard:0 Gid:0} 增加hist: 2982225972160280567 长度: 16
011672  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] Index: 1004
011672  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] Index: 2004
011672  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1004 min_gid: 2004 counts: map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] shards: [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009]
011672  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] Gids:[] UUID:4477975296002685041 Shard:0 Gid:0} CommandIndex:17 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011673  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] [] 4477975296002685041 0 0}
011673  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:0 1004:2 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 1004
011673  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1004 min_gid: 2004 opIndex: 2004 counts: map[1004:2 1009:2 2004:1 2009:2 3004:1 3009:2] shards: [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009]
011674  runtime.goexit K0 增加: {T:Join Servers:map[1004:[1004a 1004b 1004c] 2004:[2004a] 3004:[3004a]] Gids:[] UUID:2982225972160280567 Shard:0 Gid:0} 增加hist: 2982225972160280567 长度: 16
011673  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1004:1 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 1009
011674  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1004:1 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 2000
011674  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1009 min_gid: 2000 counts: map[1000:1 1004:1 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] shards: [2004 1000 1009 3009 1009 3009 1004 3004 2009 2009]
011674  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] Gids:[] UUID:4477975296002685041 Shard:0 Gid:0} CommandIndex:17 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011675  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] [] 4477975296002685041 0 0}
011674  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 2009
011675  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 3000
011675  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 3000 counts: map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:2 3000:0 3004:1 3009:2] shards: [2004 1000 2000 3009 1009 3009 1004 3004 2009 2009]
011675  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] Index: 3009
011675  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] Index: 1000
011675  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:0 1004:2 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 1004
011676  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1000 counts: map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] shards: [2004 1000 2000 3009 1009 3009 1004 3004 3000 2009]
011676  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 3009 min_gid: 1000 opIndex: 3000 counts: map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] shards: [2004 1000 2000 3009 1009 3009 1004 3004 3000 2009]
011676  runtime.goexit K1 增加: {T:Join Servers:map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] Gids:[] UUID:4477975296002685041 Shard:0 Gid:0} 增加hist: 4477975296002685041 长度: 17
011676  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1004:1 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 1009
011676  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1004:1 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 2000
011677  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1009 min_gid: 2000 counts: map[1000:1 1004:1 1009:2 2000:0 2004:1 2009:2 3000:0 3004:1 3009:2] shards: [2004 3004 1009 2009 1009 2009 1000 1004 3009 3009]
011677  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 2009
011677  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:2 3000:0 3004:1 3009:2] Index: 3000
011677  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2009 min_gid: 3000 counts: map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:2 3000:0 3004:1 3009:2] shards: [2004 3004 2000 2009 1009 2009 1000 1004 3009 3009]
011676  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] Gids:[] UUID:3430538636323665579 Shard:0 Gid:0} CommandIndex:18 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011677  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] Index: 3009
011677  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] [] 3430538636323665579 0 0}
011677  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:0 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:2] Index: 3009
011678  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] Index: 1000
011678  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] Index: 2003
011678  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 2003 counts: map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] shards: [2004 1000 2000 1003 1009 3009 1004 3004 3000 2009]
011677  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] Index: 1000
011678  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2003 opIndex: 1003 counts: map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] shards: [2004 1000 2000 1003 1009 3009 1004 3004 3000 2009]
011678  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 3009 min_gid: 1000 counts: map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] shards: [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009]
011678  runtime.goexit K1 增加: {T:Join Servers:map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] Gids:[] UUID:3430538636323665579 Shard:0 Gid:0} 增加hist: 3430538636323665579 长度: 18
011678  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 3009 min_gid: 1000 opIndex: 2000 counts: map[1000:1 1004:1 1009:1 2000:1 2004:1 2009:1 3000:1 3004:1 3009:2] shards: [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009]
011678  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] Gids:[] UUID:3423400112393165472 Shard:0 Gid:0} CommandIndex:19 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011679  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] [] 3423400112393165472 0 0}
011678  runtime.goexit K0 增加: {T:Join Servers:map[1000:[1000a 1000b 1000c] 2000:[2000a] 3000:[3000a]] Gids:[] UUID:4477975296002685041 Shard:0 Gid:0} 增加hist: 4477975296002685041 长度: 17
011679  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1008:0 1009:1 2000:1 2003:0 2004:1 2008:0 2009:1 3000:1 3003:0 3004:1 3008:0 3009:1] Index: 1000
011679  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] Gids:[] UUID:3430538636323665579 Shard:0 Gid:0} CommandIndex:18 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011679  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1008 opIndex: 3008 counts: map[1000:1 1003:1 1004:1 1008:0 1009:1 2000:1 2003:0 2004:1 2008:0 2009:1 3000:1 3003:0 3004:1 3008:0 3009:1] shards: [2004 1000 2000 1003 1009 3009 1004 3004 3000 2009]
011679  runtime.goexit K1 增加: {T:Join Servers:map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] Gids:[] UUID:3423400112393165472 Shard:0 Gid:0} 增加hist: 3423400112393165472 长度: 19
011679  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] [] 3430538636323665579 0 0}
011679  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] Gids:[] UUID:403208436507290861 Shard:0 Gid:0} CommandIndex:20 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011679  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:0 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:2] Index: 3009
011680  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] [] 403208436507290861 0 0}
011680  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] Index: 1000
011680  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] Index: 2003
011680  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 2003 counts: map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] shards: [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009]
011680  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3006:0 3008:0 3009:1] Index: 1000
011680  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2003 opIndex: 1003 counts: map[1000:1 1003:1 1004:1 1009:1 2000:1 2003:0 2004:1 2009:1 3000:1 3003:0 3004:1 3009:1] shards: [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009]
011680  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1006 opIndex: 1006 counts: map[1000:1 1003:1 1004:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3006:0 3008:0 3009:1] shards: [2004 1000 2000 1003 1009 3009 1004 3004 3000 2009]
011681  runtime.goexit K1 增加: {T:Join Servers:map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] Gids:[] UUID:403208436507290861 Shard:0 Gid:0} 增加hist: 403208436507290861 长度: 20
011681  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] Gids:[] UUID:2123895015098462591 Shard:0 Gid:0} CommandIndex:21 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011681  runtime.goexit K0 增加: {T:Join Servers:map[1003:[1003a 1003b 1003c] 2003:[2003a] 3003:[3003a]] Gids:[] UUID:3430538636323665579 Shard:0 Gid:0} 增加hist: 3430538636323665579 长度: 18
011681  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] [] 2123895015098462591 0 0}
011681  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] Gids:[] UUID:3423400112393165472 Shard:0 Gid:0} CommandIndex:19 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011681  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:0 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0 3009:1] Index: 1000
011682  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] [] 3423400112393165472 0 0}
011682  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1008:0 1009:1 2000:1 2003:0 2004:1 2008:0 2009:1 3000:1 3003:0 3004:1 3008:0 3009:1] Index: 1000
011682  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1008 opIndex: 3008 counts: map[1000:1 1003:1 1004:1 1008:0 1009:1 2000:1 2003:0 2004:1 2008:0 2009:1 3000:1 3003:0 3004:1 3008:0 3009:1] shards: [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009]
011682  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1005 opIndex: 3005 counts: map[1000:1 1003:1 1004:1 1005:0 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0 3009:1] shards: [2004 1000 2000 1003 1009 3009 1004 3004 3000 2009]
011683  runtime.goexit K1 增加: {T:Join Servers:map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] Gids:[] UUID:2123895015098462591 Shard:0 Gid:0} 增加hist: 2123895015098462591 长度: 21
011682  runtime.goexit K0 增加: {T:Join Servers:map[1008:[1008a 1008b 1008c] 2008:[2008a] 3008:[3008a]] Gids:[] UUID:3423400112393165472 Shard:0 Gid:0} 增加hist: 3423400112393165472 长度: 19
011683  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] Gids:[] UUID:403208436507290861 Shard:0 Gid:0} CommandIndex:20 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011683  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2009 3009] UUID:479799877031306832 Shard:0 Gid:0} CommandIndex:22 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011683  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] [] 403208436507290861 0 0}
011683  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]], shard: [2004 1000 2000 1003 1009 0 1004 3004 3000 0]
011684  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3006:0 3008:0 3009:1] Index: 1000
011684  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:0 1006:0 1008:0 1009:1 2000:1 2003:0 2004:3 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 2004
011684  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1006 opIndex: 2006 counts: map[1000:1 1003:1 1004:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3006:0 3008:0 3009:1] shards: [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009]
011684  runtime.goexit K0 增加: {T:Join Servers:map[1006:[1006a 1006b 1006c] 2006:[2006a] 3006:[3006a]] Gids:[] UUID:403208436507290861 Shard:0 Gid:0} 增加hist: 403208436507290861 长度: 20
011684  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:2 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 2004
011684  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] Gids:[] UUID:2123895015098462591 Shard:0 Gid:0} CommandIndex:21 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011684  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1003:1 1004:1 1005:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:2 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1006
011684  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] [] 2123895015098462591 0 0}
011684  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2004 min_gid: 1006 counts: map[1000:1 1003:1 1004:1 1005:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:2 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 1000 2000 1003 1009 2004 1004 3004 3000 2004]
011685  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1000
011685  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1008
011685  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:0 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0 3009:1] Index: 1000
011685  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 1008 counts: map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 1000 2000 1003 1009 1006 1004 3004 3000 2004]
011685  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1005 opIndex: 3005 counts: map[1000:1 1003:1 1004:1 1005:0 1006:0 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 2009:1 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0 3009:1] shards: [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009]
011686  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1008 opIndex: 2004 counts: map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 1000 2000 1003 1009 1006 1004 3004 3000 2004]
011686  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2009 3009] UUID:479799877031306832 Shard:0 Gid:0} 增加hist: 479799877031306832 长度: 22
011686  runtime.goexit K0 增加: {T:Join Servers:map[1005:[1005a 1005b 1005c] 2005:[2005a] 3005:[3005a]] Gids:[] UUID:2123895015098462591 Shard:0 Gid:0} 增加hist: 2123895015098462591 长度: 21
011686  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2009 3009] UUID:479799877031306832 Shard:0 Gid:0} CommandIndex:22 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011686  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]], shard: [2004 3004 2000 3000 1009 0 1000 1004 1003 0]
011686  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:0 1006:0 1008:0 1009:1 2000:1 2003:0 2004:3 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 2004
011687  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:2 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 2004
011687  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1003:1 1004:1 1005:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:2 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1006
011687  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 2004 min_gid: 1006 counts: map[1000:1 1003:1 1004:1 1005:1 1006:0 1008:0 1009:1 2000:1 2003:0 2004:2 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 3004 2000 3000 1009 2004 1000 1004 1003 2004]
011687  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1000
011687  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1008
011688  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 1008 counts: map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004]
011688  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1008 opIndex: 2004 counts: map[1000:1 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004]
011688  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2009 3009] UUID:479799877031306832 Shard:0 Gid:0} 增加hist: 479799877031306832 长度: 22
011698  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] Gids:[] UUID:733863721615508089 Shard:0 Gid:0} CommandIndex:23 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011699  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] [] 733863721615508089 0 0}
011699  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1000
011699  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1001 opIndex: 3001 counts: map[1000:1 1001:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004]
011699  runtime.goexit K2 增加: {T:Join Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] Gids:[] UUID:733863721615508089 Shard:0 Gid:0} 增加hist: 733863721615508089 长度: 23
011699  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] Gids:[] UUID:1786665967776532605 Shard:0 Gid:0} CommandIndex:24 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011700  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] [] 1786665967776532605 0 0}
011700  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1000
011700  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1001 opIndex: 3002 counts: map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004]
011700  runtime.goexit K2 增加: {T:Join Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] Gids:[] UUID:1786665967776532605 Shard:0 Gid:0} 增加hist: 1786665967776532605 长度: 24
011700  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] Gids:[] UUID:4134155907568185703 Shard:0 Gid:0} CommandIndex:25 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011700  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] [] 4134155907568185703 0 0}
011701  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3007:0 3008:0] Index: 1000
011701  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1001 opIndex: 3007 counts: map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3007:0 3008:0] shards: [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004]
011701  runtime.goexit K2 增加: {T:Join Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] Gids:[] UUID:4134155907568185703 Shard:0 Gid:0} 增加hist: 4134155907568185703 长度: 25
011761  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 23 len: 25 args: &{Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] UUID:733863721615508089}
011761  reflect.Value.call K2 Join Server添加成功index: 23 len: 25 
011762  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Leave index: -1 len: 22 args: &{GIDs:[2006 3006] UUID:1863905211536561327}
011762  reflect.Value.call K0 Leave 失败2
011762  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]}]
011763  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 26 len: 25 args: &{GIDs:[2004 3004] UUID:142695480891831690}
011764  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Leave index: -1 len: 22 args: &{GIDs:[2005 3005] UUID:4000042587661298815}
011764  reflect.Value.call K0 Leave 失败2
011764  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 24 len: 25 args: &{Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] UUID:1786665967776532605}
011764  reflect.Value.call K2 Join Server添加成功index: 24 len: 25 
011764  6.5840/shardctrler.TestMulti.func1 Client join : &{Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] UUID:733863721615508089} {WrongLeader:false Err: Config:{Num:15 Shards:[1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] Groups:map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]}}
011764  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]}]
011766  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 25 len: 25 args: &{Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] UUID:4134155907568185703}
011767  reflect.Value.call K2 Join Server添加成功index: 25 len: 25 
011767  6.5840/shardctrler.TestMulti.func1 Client join : &{Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] UUID:1786665967776532605} {WrongLeader:false Err: Config:{Num:15 Shards:[1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] Groups:map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]}}
011767  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]}]
011769  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 27 len: 25 args: &{GIDs:[2003 3003] UUID:3672697630794078483}
011769  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 28 len: 25 args: &{GIDs:[2000 3000] UUID:3501082860064838950}
011769  6.5840/shardctrler.TestMulti.func1 Client join : &{Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] UUID:4134155907568185703} {WrongLeader:false Err: Config:{Num:15 Shards:[1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] Groups:map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]}}
011770  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 29 len: 25 args: &{GIDs:[2008 3008] UUID:3532341341702077133}
011821  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] Gids:[] UUID:733863721615508089 Shard:0 Gid:0} CommandIndex:23 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011821  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] [] 733863721615508089 0 0}
011821  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1000
011822  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1001 opIndex: 3001 counts: map[1000:1 1001:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 1000 2000 1003 1009 1006 1004 3004 3000 2004]
011822  runtime.goexit K1 增加: {T:Join Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] Gids:[] UUID:733863721615508089 Shard:0 Gid:0} 增加hist: 733863721615508089 长度: 23
011822  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] Gids:[] UUID:733863721615508089 Shard:0 Gid:0} CommandIndex:23 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011823  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] [] 733863721615508089 0 0}
011823  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1000
011823  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1001 opIndex: 3001 counts: map[1000:1 1001:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004]
011824  runtime.goexit K0 增加: {T:Join Servers:map[1001:[1001a 1001b 1001c] 2001:[2001a] 3001:[3001a]] Gids:[] UUID:733863721615508089 Shard:0 Gid:0} 增加hist: 733863721615508089 长度: 23
011824  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] Gids:[] UUID:1786665967776532605 Shard:0 Gid:0} CommandIndex:24 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011824  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] [] 1786665967776532605 0 0}
011824  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1000
011824  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1001 opIndex: 1002 counts: map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004]
011824  runtime.goexit K0 增加: {T:Join Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] Gids:[] UUID:1786665967776532605 Shard:0 Gid:0} 增加hist: 1786665967776532605 长度: 24
011825  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] Gids:[] UUID:4134155907568185703 Shard:0 Gid:0} CommandIndex:25 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011825  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] [] 4134155907568185703 0 0}
011825  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3007:0 3008:0] Index: 1000
011825  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1001 opIndex: 1007 counts: map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3007:0 3008:0] shards: [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004]
011825  runtime.goexit K0 增加: {T:Join Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] Gids:[] UUID:4134155907568185703 Shard:0 Gid:0} 增加hist: 4134155907568185703 长度: 25
011832  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] Gids:[] UUID:1786665967776532605 Shard:0 Gid:0} CommandIndex:24 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011833  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] [] 1786665967776532605 0 0}
011833  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3008:0] Index: 1000
011833  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1001 opIndex: 3002 counts: map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3008:0] shards: [1005 1000 2000 1003 1009 1006 1004 3004 3000 2004]
011833  runtime.goexit K1 增加: {T:Join Servers:map[1002:[1002a 1002b 1002c] 2002:[2002a] 3002:[3002a]] Gids:[] UUID:1786665967776532605 Shard:0 Gid:0} 增加hist: 1786665967776532605 长度: 24
011833  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] Gids:[] UUID:4134155907568185703 Shard:0 Gid:0} CommandIndex:25 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011834  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] [] 4134155907568185703 0 0}
011834  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3007:0 3008:0] Index: 1000
011834  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1001 opIndex: 3007 counts: map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2004:1 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3004:1 3005:0 3006:0 3007:0 3008:0] shards: [1005 1000 2000 1003 1009 1006 1004 3004 3000 2004]
011834  runtime.goexit K1 增加: {T:Join Servers:map[1007:[1007a 1007b 1007c] 2007:[2007a] 3007:[3007a]] Gids:[] UUID:4134155907568185703 Shard:0 Gid:0} 增加hist: 4134155907568185703 长度: 25
011855  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2004 3004] UUID:142695480891831690 Shard:0 Gid:0} CommandIndex:26 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011856  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]], shard: [1005 0 2000 3000 1009 1006 1000 1004 1003 0]
011856  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:3 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1005
011856  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:0 1003:1 1004:1 1005:2 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1005
011856  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:1 1002:0 1003:1 1004:1 1005:2 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1002
011857  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1005 min_gid: 1002 counts: map[1000:1 1001:1 1002:0 1003:1 1004:1 1005:2 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1005 2000 3000 1009 1006 1000 1004 1003 1005]
011857  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1000
011857  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1007
011857  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005]
011857  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1007 opIndex: 1005 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005]
011858  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2004 3004] UUID:142695480891831690 Shard:0 Gid:0} 增加hist: 142695480891831690 长度: 26
011858  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2003 3003] UUID:3672697630794078483 Shard:0 Gid:0} CommandIndex:27 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011858  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]], shard: [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005]
011858  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1000
011858  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1007 opIndex: 1001 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005]
011859  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2003 3003] UUID:3672697630794078483 Shard:0 Gid:0} 增加hist: 3672697630794078483 长度: 27
011859  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2000 3000] UUID:3501082860064838950 Shard:0 Gid:0} CommandIndex:28 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011859  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]], shard: [1001 1002 0 0 1009 1006 1000 1004 1003 1005]
011859  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:3 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1001
011859  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:2 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1001
011860  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:2 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1008
011860  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1001 min_gid: 1008 counts: map[1000:1 1001:2 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1007 1002 1001 1001 1009 1006 1000 1004 1003 1005]
011860  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1000
011860  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 2001
011860  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 2001 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011861  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1001 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011861  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2000 3000] UUID:3501082860064838950 Shard:0 Gid:0} 增加hist: 3501082860064838950 长度: 28
011861  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2008 3008] UUID:3532341341702077133 Shard:0 Gid:0} CommandIndex:29 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011861  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011861  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 3001:0 3002:0 3005:0 3006:0 3007:0] Index: 1000
011861  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 3001:0 3002:0 3005:0 3006:0 3007:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011861  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2008 3008] UUID:3532341341702077133 Shard:0 Gid:0} 增加hist: 3532341341702077133 长度: 29
011862  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2006 3006] UUID:1863905211536561327 Shard:0 Gid:0} CommandIndex:30 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011862  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011862  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2007:0 3001:0 3002:0 3005:0 3007:0] Index: 1000
011862  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2007:0 3001:0 3002:0 3005:0 3007:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011862  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2006 3006] UUID:1863905211536561327 Shard:0 Gid:0} 增加hist: 1863905211536561327 长度: 30
011863  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2005 3005] UUID:4000042587661298815 Shard:0 Gid:0} CommandIndex:31 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011863  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011863  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2007:0 3001:0 3002:0 3007:0] Index: 1000
011863  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2007:0 3001:0 3002:0 3007:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011863  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2005 3005] UUID:4000042587661298815 Shard:0 Gid:0} 增加hist: 4000042587661298815 长度: 31
011865  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 30 len: 31 args: &{GIDs:[2006 3006] UUID:1863905211536561327}
011865  reflect.Value.call K2 Leave Server添加成功index: 30 len: 31 
011865  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Leave index: -1 len: 25 args: &{GIDs:[2001 3001] UUID:1974352842167603405}
011866  reflect.Value.call K1 Leave 失败2
011865  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]}]
011868  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 26 len: 31 args: &{GIDs:[2004 3004] UUID:142695480891831690}
011868  reflect.Value.call K2 Leave Server添加成功index: 26 len: 31 
011868  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Leave index: -1 len: 25 args: &{GIDs:[2002 3002] UUID:1108980304376297707}
011868  reflect.Value.call K0 Leave 失败2
011871  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Leave index: -1 len: 25 args: &{GIDs:[2007 3007] UUID:3266456545366607283}
011872  reflect.Value.call K0 Leave 失败2
011868  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]}]
011874  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 27 len: 31 args: &{GIDs:[2003 3003] UUID:3672697630794078483}
011874  reflect.Value.call K2 Leave Server添加成功index: 27 len: 31 
011875  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]}]
011879  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 28 len: 31 args: &{GIDs:[2000 3000] UUID:3501082860064838950}
011880  reflect.Value.call K2 Leave Server添加成功index: 28 len: 31 
011880  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]}]
011883  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 31 len: 31 args: &{GIDs:[2005 3005] UUID:4000042587661298815}
011883  reflect.Value.call K2 Leave Server添加成功index: 31 len: 31 
011883  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]}]
011886  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 29 len: 31 args: &{GIDs:[2008 3008] UUID:3532341341702077133}
011886  reflect.Value.call K2 Leave Server添加成功index: 29 len: 31 
011886  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]}]
011967  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Leave index: -1 len: 25 args: &{GIDs:[2001 3001] UUID:1974352842167603405}
011968  reflect.Value.call K0 Leave 失败2
011970  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Leave index: -1 len: 25 args: &{GIDs:[2002 3002] UUID:1108980304376297707}
011970  reflect.Value.call K1 Leave 失败2
011975  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Leave index: -1 len: 25 args: &{GIDs:[2007 3007] UUID:3266456545366607283}
011975  reflect.Value.call K1 Leave 失败2
011983  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2004 3004] UUID:142695480891831690 Shard:0 Gid:0} CommandIndex:26 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011983  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]], shard: [1005 1000 2000 1003 1009 1006 1004 0 3000 0]
011983  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:3 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1005
011984  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:0 1003:1 1004:1 1005:2 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1005
011984  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:1 1002:0 1003:1 1004:1 1005:2 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1002
011984  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1005 min_gid: 1002 counts: map[1000:1 1001:1 1002:0 1003:1 1004:1 1005:2 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1000 2000 1003 1009 1006 1004 1005 3000 1005]
011984  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1000
011985  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1007
011985  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1000 2000 1003 1009 1006 1004 1002 3000 1005]
011985  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1007 opIndex: 1005 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1000 2000 1003 1009 1006 1004 1002 3000 1005]
011985  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2004 3004] UUID:142695480891831690 Shard:0 Gid:0} 增加hist: 142695480891831690 长度: 26
011985  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2003 3003] UUID:3672697630794078483 Shard:0 Gid:0} CommandIndex:27 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011985  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]], shard: [1001 1000 2000 1003 1009 1006 1004 1002 3000 1005]
011986  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1000
011986  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1007 opIndex: 1001 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1000 2000 1003 1009 1006 1004 1002 3000 1005]
011986  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2003 3003] UUID:3672697630794078483 Shard:0 Gid:0} 增加hist: 3672697630794078483 长度: 27
011986  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2000 3000] UUID:3501082860064838950 Shard:0 Gid:0} CommandIndex:28 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011987  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]], shard: [1001 1000 0 1003 1009 1006 1004 1002 0 1005]
011987  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:3 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1001
011987  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:2 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1001
011987  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:2 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1008
011988  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1001 min_gid: 1008 counts: map[1000:1 1001:2 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1007 1000 1001 1003 1009 1006 1004 1002 1001 1005]
011988  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1000
011988  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 2001
011988  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 2001 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
011988  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1001 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
011988  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2000 3000] UUID:3501082860064838950 Shard:0 Gid:0} 增加hist: 3501082860064838950 长度: 28
011988  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2008 3008] UUID:3532341341702077133 Shard:0 Gid:0} CommandIndex:29 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011989  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]], shard: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
011989  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 3001:0 3002:0 3005:0 3006:0 3007:0] Index: 1000
011989  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 3001:0 3002:0 3005:0 3006:0 3007:0] shards: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
011989  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2008 3008] UUID:3532341341702077133 Shard:0 Gid:0} 增加hist: 3532341341702077133 长度: 29
011989  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2006 3006] UUID:1863905211536561327 Shard:0 Gid:0} CommandIndex:30 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011989  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]], shard: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
011990  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2007:0 3001:0 3002:0 3005:0 3007:0] Index: 1000
011990  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2007:0 3001:0 3002:0 3005:0 3007:0] shards: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
011990  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2006 3006] UUID:1863905211536561327 Shard:0 Gid:0} 增加hist: 1863905211536561327 长度: 30
011990  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2005 3005] UUID:4000042587661298815 Shard:0 Gid:0} CommandIndex:31 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011990  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]], shard: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
011991  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2007:0 3001:0 3002:0 3007:0] Index: 1000
011991  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2007:0 3001:0 3002:0 3007:0] shards: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
011991  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2005 3005] UUID:4000042587661298815 Shard:0 Gid:0} 增加hist: 4000042587661298815 长度: 31
011993  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2004 3004] UUID:142695480891831690 Shard:0 Gid:0} CommandIndex:26 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011993  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]], shard: [1005 0 2000 3000 1009 1006 1000 1004 1003 0]
011994  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:0 1002:0 1003:1 1004:1 1005:3 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1005
011994  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:0 1003:1 1004:1 1005:2 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1005
011994  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:1 1002:0 1003:1 1004:1 1005:2 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1002
011994  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1005 min_gid: 1002 counts: map[1000:1 1001:1 1002:0 1003:1 1004:1 1005:2 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1005 2000 3000 1009 1006 1000 1004 1003 1005]
011995  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1000
011995  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] Index: 1007
011995  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005]
011995  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1007 opIndex: 1005 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2003:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3003:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005]
011995  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2004 3004] UUID:142695480891831690 Shard:0 Gid:0} 增加hist: 142695480891831690 长度: 26
011995  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2003 3003] UUID:3672697630794078483 Shard:0 Gid:0} CommandIndex:27 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011996  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]], shard: [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005]
011996  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1000
011996  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1007 opIndex: 1001 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2000:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3000:1 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005]
011996  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2003 3003] UUID:3672697630794078483 Shard:0 Gid:0} 增加hist: 3672697630794078483 长度: 27
011996  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2000 3000] UUID:3501082860064838950 Shard:0 Gid:0} CommandIndex:28 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011997  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]], shard: [1001 1002 0 0 1009 1006 1000 1004 1003 1005]
011997  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:3 1002:1 1003:1 1004:1 1005:1 1006:1 1007:0 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1001
011997  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:2 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1001
011997  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:2 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1008
011998  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1001 min_gid: 1008 counts: map[1000:1 1001:2 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:0 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1007 1002 1001 1001 1009 1006 1000 1004 1003 1005]
011998  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 1000
011998  6.5840/shardctrler.(*ShardCtrler).ProcessL GetGIDWithMini map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] Index: 2001
011998  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalancing max_gid: 1000 min_gid: 2001 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011998  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1001 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 2008:0 3001:0 3002:0 3005:0 3006:0 3007:0 3008:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011998  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2000 3000] UUID:3501082860064838950 Shard:0 Gid:0} 增加hist: 3501082860064838950 长度: 28
011999  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2008 3008] UUID:3532341341702077133 Shard:0 Gid:0} CommandIndex:29 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
011999  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011999  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 3001:0 3002:0 3005:0 3006:0 3007:0] Index: 1000
011999  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2006:0 2007:0 3001:0 3002:0 3005:0 3006:0 3007:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
011999  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2008 3008] UUID:3532341341702077133 Shard:0 Gid:0} 增加hist: 3532341341702077133 长度: 29
011999  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2006 3006] UUID:1863905211536561327 Shard:0 Gid:0} CommandIndex:30 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012000  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012000  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2001 3001] UUID:1974352842167603405 Shard:0 Gid:0} CommandIndex:32 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012000  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2007:0 3001:0 3002:0 3005:0 3007:0] Index: 1000
012000  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2002:[2002a] 2007:[2007a] 3002:[3002a] 3007:[3007a]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012000  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2005:0 2007:0 3001:0 3002:0 3005:0 3007:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012001  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2006 3006] UUID:1863905211536561327 Shard:0 Gid:0} 增加hist: 1863905211536561327 长度: 30
012001  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2005 3005] UUID:4000042587661298815 Shard:0 Gid:0} CommandIndex:31 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012000  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2002:0 2007:0 3002:0 3007:0] Index: 1000
012001  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012001  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2002 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2002:0 2007:0 3002:0 3007:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012001  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2001 3001] UUID:1974352842167603405 Shard:0 Gid:0} 增加hist: 1974352842167603405 长度: 32
012001  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2007:0 3001:0 3002:0 3007:0] Index: 1000
012001  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2001 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2001:0 2002:0 2007:0 3001:0 3002:0 3007:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012001  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2005 3005] UUID:4000042587661298815 Shard:0 Gid:0} 增加hist: 4000042587661298815 长度: 31
012071  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 32 len: 32 args: &{GIDs:[2001 3001] UUID:1974352842167603405}
012071  reflect.Value.call K2 Leave Server添加成功index: 32 len: 32 
012071  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]} {22 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2002:[2002a] 2007:[2007a] 3002:[3002a] 3007:[3007a]]}]
012075  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 33 len: 32 args: &{GIDs:[2002 3002] UUID:1108980304376297707}
012078  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 34 len: 32 args: &{GIDs:[2007 3007] UUID:3266456545366607283}
012134  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2001 3001] UUID:1974352842167603405 Shard:0 Gid:0} CommandIndex:32 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012134  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2001 3001] UUID:1974352842167603405 Shard:0 Gid:0} CommandIndex:32 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012134  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2002:[2002a] 2007:[2007a] 3002:[3002a] 3007:[3007a]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012134  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2002:[2002a] 2007:[2007a] 3002:[3002a] 3007:[3007a]], shard: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
012134  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2002:0 2007:0 3002:0 3007:0] Index: 1000
012135  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2002:0 2007:0 3002:0 3007:0] Index: 1000
012135  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2002 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2002:0 2007:0 3002:0 3007:0] shards: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
012135  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2001 3001] UUID:1974352842167603405 Shard:0 Gid:0} 增加hist: 1974352842167603405 长度: 32
012135  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2002 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2002:0 2007:0 3002:0 3007:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012135  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2001 3001] UUID:1974352842167603405 Shard:0 Gid:0} 增加hist: 1974352842167603405 长度: 32
012156  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2002 3002] UUID:1108980304376297707 Shard:0 Gid:0} CommandIndex:33 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012156  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2007:[2007a] 3007:[3007a]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012156  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2007:0 3007:0] Index: 1000
012156  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2007 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2007:0 3007:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012156  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2002 3002] UUID:1108980304376297707 Shard:0 Gid:0} 增加hist: 1108980304376297707 长度: 33
012157  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2007 3007] UUID:3266456545366607283 Shard:0 Gid:0} CommandIndex:34 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012157  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012157  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] Index: 1000
012157  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1000 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012157  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[2007 3007] UUID:3266456545366607283 Shard:0 Gid:0} 增加hist: 3266456545366607283 长度: 34
012176  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 33 len: 34 args: &{GIDs:[2002 3002] UUID:1108980304376297707}
012176  reflect.Value.call K2 Leave Server添加成功index: 33 len: 34 
012176  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]} {22 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2002:[2002a] 2007:[2007a] 3002:[3002a] 3007:[3007a]]} {23 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2007:[2007a] 3007:[3007a]]} {24 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}]
012180  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 34 len: 34 args: &{GIDs:[2007 3007] UUID:3266456545366607283}
012180  reflect.Value.call K2 Leave Server添加成功index: 34 len: 34 
012180  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]} {22 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2002:[2002a] 2007:[2007a] 3002:[3002a] 3007:[3007a]]} {23 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2007:[2007a] 3007:[3007a]]} {24 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}]
012245  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2002 3002] UUID:1108980304376297707 Shard:0 Gid:0} CommandIndex:33 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012245  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2007:[2007a] 3007:[3007a]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012245  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2007:0 3007:0] Index: 1000
012245  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2007 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2007:0 3007:0] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012246  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2002 3002] UUID:1108980304376297707 Shard:0 Gid:0} 增加hist: 1108980304376297707 长度: 33
012246  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2007 3007] UUID:3266456545366607283 Shard:0 Gid:0} CommandIndex:34 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012246  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012246  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] Index: 1000
012246  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1000 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012246  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[2007 3007] UUID:3266456545366607283 Shard:0 Gid:0} 增加hist: 3266456545366607283 长度: 34
012256  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2002 3002] UUID:1108980304376297707 Shard:0 Gid:0} CommandIndex:33 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012256  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2007:[2007a] 3007:[3007a]], shard: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
012257  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2007:0 3007:0] Index: 1000
012257  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 2007 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1 2007:0 3007:0] shards: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
012257  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2002 3002] UUID:1108980304376297707 Shard:0 Gid:0} 增加hist: 1108980304376297707 长度: 33
012257  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[2007 3007] UUID:3266456545366607283 Shard:0 Gid:0} CommandIndex:34 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012257  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]], shard: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
012258  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] Index: 1000
012258  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1000 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] shards: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
012258  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[2007 3007] UUID:3266456545366607283 Shard:0 Gid:0} 增加hist: 3266456545366607283 长度: 34
012286  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 35 len: 34 args: &{Num:-1 UUID:1488451055543878232}
012299  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1488451055543878232 Shard:0 Gid:0} CommandIndex:35 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012299  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:1488451055543878232 Shard:0 Gid:0} 增加hist: 1488451055543878232 长度: 35
012388  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 35 len: 35 args: &{Num:-1 UUID:1488451055543878232}
012388  reflect.Value.call K2 Query Server添加成功index: 35 len: 35 
012388  reflect.Value.call Query config: {24 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}
  ... Passed
Test: Minimal transfers after multijoins ...
012432  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1488451055543878232 Shard:0 Gid:0} CommandIndex:35 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012433  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:1488451055543878232 Shard:0 Gid:0} 增加hist: 1488451055543878232 长度: 35
012443  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1488451055543878232 Shard:0 Gid:0} CommandIndex:35 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012443  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:1488451055543878232 Shard:0 Gid:0} 增加hist: 1488451055543878232 长度: 35
012465  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:2179884163862253686 Shard:0 Gid:0} CommandIndex:36 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012465  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:2179884163862253686 Shard:0 Gid:0} 增加hist: 2179884163862253686 长度: 36
012493  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 36 len: 36 args: &{Num:-1 UUID:2179884163862253686}
012493  reflect.Value.call K2 Query Server添加成功index: 36 len: 36 
012493  reflect.Value.call Query config: {24 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}
012596  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 37 len: 36 args: &{Servers:map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] UUID:3099309074439694137}
012597  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:2179884163862253686 Shard:0 Gid:0} CommandIndex:36 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012597  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:2179884163862253686 Shard:0 Gid:0} 增加hist: 2179884163862253686 长度: 36
012597  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:2179884163862253686 Shard:0 Gid:0} CommandIndex:36 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012597  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:2179884163862253686 Shard:0 Gid:0} 增加hist: 2179884163862253686 长度: 36
012608  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] Gids:[] UUID:3099309074439694137 Shard:0 Gid:0} CommandIndex:37 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012609  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] [] 3099309074439694137 0 0}
012609  6.5840/shardctrler.rebalance GetGIDWithMaxi map[11:0 12:0 13:0 14:0 15:0 1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] Index: 1000
012609  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 11 opIndex: 14 counts: map[11:0 12:0 13:0 14:0 15:0 1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012609  runtime.goexit K2 增加: {T:Join Servers:map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] Gids:[] UUID:3099309074439694137 Shard:0 Gid:0} 增加hist: 3099309074439694137 长度: 37
012697  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Join index: 37 len: 37 args: &{Servers:map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] UUID:3099309074439694137}
012698  reflect.Value.call K2 Join Server添加成功index: 37 len: 37 
012698  reflect.Value.call K2 Join Config [{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]} {22 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2002:[2002a] 2007:[2007a] 3002:[3002a] 3007:[3007a]]} {23 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2007:[2007a] 3007:[3007a]]} {24 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]} {25 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b] 1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}]
012702  6.5840/shardctrler.TestMulti Client join : &{Servers:map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] UUID:3099309074439694137} {WrongLeader:false Err: Config:{Num:25 Shards:[1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] Groups:map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b] 1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}}
012741  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] Gids:[] UUID:3099309074439694137 Shard:0 Gid:0} CommandIndex:37 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012741  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] [] 3099309074439694137 0 0}
012741  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Join Servers:map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] Gids:[] UUID:3099309074439694137 Shard:0 Gid:0} CommandIndex:37 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012742  6.5840/shardctrler.(*ShardCtrler).RefreshData Join op: {Join map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] [] 3099309074439694137 0 0}
012741  6.5840/shardctrler.rebalance GetGIDWithMaxi map[11:0 12:0 13:0 14:0 15:0 1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] Index: 1000
012742  6.5840/shardctrler.rebalance GetGIDWithMaxi map[11:0 12:0 13:0 14:0 15:0 1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] Index: 1000
012742  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 11 opIndex: 15 counts: map[11:0 12:0 13:0 14:0 15:0 1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
012742  runtime.goexit K0 增加: {T:Join Servers:map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] Gids:[] UUID:3099309074439694137 Shard:0 Gid:0} 增加hist: 3099309074439694137 长度: 37
012742  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 11 opIndex: 12 counts: map[11:0 12:0 13:0 14:0 15:0 1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] shards: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
012742  runtime.goexit K1 增加: {T:Join Servers:map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b]] Gids:[] UUID:3099309074439694137 Shard:0 Gid:0} 增加hist: 3099309074439694137 长度: 37
012763  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:637889070603442646 Shard:0 Gid:0} CommandIndex:38 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012763  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:637889070603442646 Shard:0 Gid:0} 增加hist: 637889070603442646 长度: 38
012804  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 38 len: 38 args: &{Num:-1 UUID:637889070603442646}
012805  reflect.Value.call K2 Query Server添加成功index: 38 len: 38 
012805  reflect.Value.call Query config: {25 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b] 1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}
  ... Passed
Test: Minimal transfers after multileaves ...
012904  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:637889070603442646 Shard:0 Gid:0} CommandIndex:38 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012905  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:637889070603442646 Shard:0 Gid:0} 增加hist: 637889070603442646 长度: 38
012908  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 39 len: 38 args: &{GIDs:[11 12 13 14 15] UUID:4283551266017667744}
012915  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:637889070603442646 Shard:0 Gid:0} CommandIndex:38 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
012915  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:637889070603442646 Shard:0 Gid:0} 增加hist: 637889070603442646 长度: 38
013009  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 39 len: 38 args: &{GIDs:[11 12 13 14 15] UUID:4283551266017667744}
013060  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[11 12 13 14 15] UUID:4283551266017667744 Shard:0 Gid:0} CommandIndex:39 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
013060  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
013061  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] Index: 1000
013061  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1000 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
013061  runtime.goexit K2 增加: {T:Leave Servers:map[] Gids:[11 12 13 14 15] UUID:4283551266017667744 Shard:0 Gid:0} 增加hist: 4283551266017667744 长度: 39
013110  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Leave index: 39 len: 39 args: &{GIDs:[11 12 13 14 15] UUID:4283551266017667744}
013110  reflect.Value.call K2 Leave Server添加成功index: 39 len: 39 
013110  reflect.Value.call Leave 结果[{0 [0 0 0 0 0 0 0 0 0 0] map[]} {1 [1 1 1 1 1 2 2 2 2 2] map[1:[x y z] 2:[a b c]]} {2 [3 3 1 1 1 3 2 2 2 2] map[1:[x y z] 2:[a b c] 3:[j k l]]} {3 [2 2 2 2 2 2 2 2 2 2] map[2:[a b c]]} {4 [0 0 0 0 0 0 0 0 0 0] map[]} {5 [1009 2009 1009 2009 1009 2009 3009 3009 3009 3009] map[1009:[1009a 1009b 1009c] 2009:[2009a] 3009:[3009a]]} {6 [2004 3004 1009 2009 1009 2009 1004 1004 3009 3009] map[1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2004:[2004a] 2009:[2009a] 3004:[3004a] 3009:[3009a]]} {7 [2004 3004 2000 3000 1009 2009 1000 1004 3009 3009] map[1000:[1000a 1000b 1000c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3004:[3004a] 3009:[3009a]]} {8 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3009:[3009a]]} {9 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3008:[3008a] 3009:[3009a]]} {10 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {11 [2004 3004 2000 3000 1009 2009 1000 1004 1003 3009] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 2009:[2009a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a] 3009:[3009a]]} {12 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {13 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {14 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3008:[3008a]]} {15 [1005 3004 2000 3000 1009 1006 1000 1004 1003 2004] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2004:[2004a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3004:[3004a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {16 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2003:[2003a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3003:[3003a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {17 [1001 1002 2000 3000 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2000:[2000a] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3000:[3000a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {18 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 2008:[2008a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a] 3008:[3008a]]} {19 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2006:[2006a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3006:[3006a] 3007:[3007a]]} {20 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2005:[2005a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3005:[3005a] 3007:[3007a]]} {21 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2001:[2001a] 2002:[2002a] 2007:[2007a] 3001:[3001a] 3002:[3002a] 3007:[3007a]]} {22 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2002:[2002a] 2007:[2007a] 3002:[3002a] 3007:[3007a]]} {23 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c] 2007:[2007a] 3007:[3007a]]} {24 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]} {25 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[11:[11a 11b] 12:[12a 12b] 13:[13a 13b] 14:[14a 14b] 15:[15a 15b] 1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]} {26 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}]
013126  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[11 12 13 14 15] UUID:4283551266017667744 Shard:0 Gid:0} CommandIndex:39 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
013126  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]], shard: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
013126  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Leave Servers:map[] Gids:[11 12 13 14 15] UUID:4283551266017667744 Shard:0 Gid:0} CommandIndex:39 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
013127  6.5840/shardctrler.(*ShardCtrler).RefreshData leave map: map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]], shard: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
013127  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] Index: 1000
013127  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1000 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] shards: [1007 1000 1008 1003 1009 1006 1004 1002 1001 1005]
013127  runtime.goexit K1 增加: {T:Leave Servers:map[] Gids:[11 12 13 14 15] UUID:4283551266017667744 Shard:0 Gid:0} 增加hist: 4283551266017667744 长度: 39
013127  6.5840/shardctrler.rebalance GetGIDWithMaxi map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] Index: 1000
013128  6.5840/shardctrler.(*ShardCtrler).ProcessL rebalanced max_gid: 1000 min_gid: 1000 opIndex: 1007 counts: map[1000:1 1001:1 1002:1 1003:1 1004:1 1005:1 1006:1 1007:1 1008:1 1009:1] shards: [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005]
013128  runtime.goexit K0 增加: {T:Leave Servers:map[] Gids:[11 12 13 14 15] UUID:4283551266017667744 Shard:0 Gid:0} 增加hist: 4283551266017667744 长度: 39
013205  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3881071089052708715 Shard:0 Gid:0} CommandIndex:40 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
013205  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:3881071089052708715 Shard:0 Gid:0} 增加hist: 3881071089052708715 长度: 40
013216  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 40 len: 40 args: &{Num:-1 UUID:3881071089052708715}
013216  reflect.Value.call K2 Query Server添加成功index: 40 len: 40 
013216  reflect.Value.call Query config: {26 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}
  ... Passed
Test: Check Same config on servers ...
013261  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3881071089052708715 Shard:0 Gid:0} CommandIndex:40 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
013261  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:3881071089052708715 Shard:0 Gid:0} 增加hist: 3881071089052708715 长度: 40
013261  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:3881071089052708715 Shard:0 Gid:0} CommandIndex:40 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
013262  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:3881071089052708715 Shard:0 Gid:0} 增加hist: 3881071089052708715 长度: 40
013319  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 41 len: 40 args: &{Num:-1 UUID:4486979309860547335}
013361  runtime.goexit K2 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:4486979309860547335 Shard:0 Gid:0} CommandIndex:41 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
013361  runtime.goexit K2 增加: {T:Query Servers:map[] Gids:[] UUID:4486979309860547335 Shard:0 Gid:0} 增加hist: 4486979309860547335 长度: 41
013420  reflect.Value.call K2 isLeader: true term: 2 tterm: 2 等待Query index: 41 len: 41 args: &{Num:-1 UUID:4486979309860547335}
013420  reflect.Value.call K2 Query Server添加成功index: 41 len: 41 
013420  reflect.Value.call Query config: {26 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}
013675  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
013676  reflect.Value.call K1 Get 失败2
013778  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
013778  reflect.Value.call K0 Get 失败2
015043  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
015044  reflect.Value.call K1 Get 失败2
015146  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
015147  reflect.Value.call K0 Get 失败2
016450  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
016451  reflect.Value.call K1 Get 失败2
016552  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
016553  reflect.Value.call K0 Get 失败2
018375  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
018377  reflect.Value.call K1 Get 失败2
018481  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
018537  reflect.Value.call K0 Get 失败2
019835  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
019836  reflect.Value.call K1 Get 失败2
019939  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
019939  reflect.Value.call K0 Get 失败2
021665  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
021666  reflect.Value.call K1 Get 失败2
021769  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
021770  reflect.Value.call K0 Get 失败2
022974  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
022975  reflect.Value.call K1 Get 失败2
023077  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
023077  reflect.Value.call K0 Get 失败2
025154  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
025155  reflect.Value.call K1 Get 失败2
025259  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
025261  reflect.Value.call K0 Get 失败2
026419  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
026421  reflect.Value.call K1 Get 失败2
026525  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
026526  reflect.Value.call K0 Get 失败2
027842  reflect.Value.call K1 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
027843  reflect.Value.call K1 Get 失败2
027945  reflect.Value.call K0 isLeader: false term: 2 tterm: 2 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
027946  reflect.Value.call K0 Get 失败2
029303  reflect.Value.call K1 isLeader: false term: 3 tterm: 3 等待Query index: -1 len: 40 args: &{Num:-1 UUID:1646534114636385007}
029305  reflect.Value.call K1 Get 失败2
029422  reflect.Value.call K0 isLeader: true term: 3 tterm: 3 等待Query index: 42 len: 40 args: &{Num:-1 UUID:1646534114636385007}
029530  reflect.Value.call K0 isLeader: true term: 3 tterm: 3 等待Query index: 42 len: 40 args: &{Num:-1 UUID:1646534114636385007}
029631  reflect.Value.call K0 isLeader: true term: 3 tterm: 3 等待Query index: 42 len: 40 args: &{Num:-1 UUID:1646534114636385007}
029740  reflect.Value.call K0 isLeader: true term: 3 tterm: 3 等待Query index: 42 len: 40 args: &{Num:-1 UUID:1646534114636385007}
029848  reflect.Value.call K0 isLeader: true term: 3 tterm: 3 等待Query index: 42 len: 40 args: &{Num:-1 UUID:1646534114636385007}
029867  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:4486979309860547335 Shard:0 Gid:0} CommandIndex:41 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
029868  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:4486979309860547335 Shard:0 Gid:0} 增加hist: 4486979309860547335 长度: 41
029868  runtime.goexit K1 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1646534114636385007 Shard:0 Gid:0} CommandIndex:42 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
029868  runtime.goexit K1 增加: {T:Query Servers:map[] Gids:[] UUID:1646534114636385007 Shard:0 Gid:0} 增加hist: 1646534114636385007 长度: 42
029867  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:4486979309860547335 Shard:0 Gid:0} CommandIndex:41 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
029868  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:4486979309860547335 Shard:0 Gid:0} 增加hist: 4486979309860547335 长度: 41
029869  runtime.goexit K0 server端接收到日志{CommandValid:true Command:{T:Query Servers:map[] Gids:[] UUID:1646534114636385007 Shard:0 Gid:0} CommandIndex:42 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
029869  runtime.goexit K0 增加: {T:Query Servers:map[] Gids:[] UUID:1646534114636385007 Shard:0 Gid:0} 增加hist: 1646534114636385007 长度: 42
029951  reflect.Value.call K0 isLeader: true term: 3 tterm: 3 等待Query index: 42 len: 42 args: &{Num:-1 UUID:1646534114636385007}
029953  reflect.Value.call K0 Query Server添加成功index: 42 len: 42 
029953  reflect.Value.call Query config: {26 [1007 1002 1008 1001 1009 1006 1000 1004 1003 1005] map[1000:[1000a 1000b 1000c] 1001:[1001a 1001b 1001c] 1002:[1002a 1002b 1002c] 1003:[1003a 1003b 1003c] 1004:[1004a 1004b 1004c] 1005:[1005a 1005b 1005c] 1006:[1006a 1006b 1006c] 1007:[1007a 1007b 1007c] 1008:[1008a 1008b 1008c] 1009:[1009a 1009b 1009c]]}
  ... Passed
PASS
ok  	6.5840/shardctrler	3.002s
